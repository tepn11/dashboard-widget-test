import{j as b,P as $,r as l,R as j,a as D}from"./vendor.82e08c62.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function f(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=f(t);fetch(t.href,o)}};P();const a=b.exports.jsx,u=b.exports.jsxs;function z(s){const{ydata:n,xdata:f}=s;var c={type:"scatter",x:f,y:n,mode:"markers",name:"",marker:{color:"rgba(156, 165, 196, 0.95)",line:{color:"rgba(156, 165, 196, 1.0)",width:1},symbol:"circle",size:5}},t=[c],o={title:"",xaxis:{showgrid:!1,showline:!0,linecolor:"rgb(102, 102, 102)",zeroline:!1,visible:!1,titlefont:{font:{color:"rgb(204, 204, 204)"}},tickfont:{font:{color:"rgb(102, 102, 102)"}},autotick:!0},yaxis:{categoryorder:"max ascending",visible:!1,zeroline:!1},margin:{l:0,r:0,b:0,t:0},legend:{font:{size:5},yanchor:"middle",xanchor:"right"},height:105,hovermode:"closest",mode:"markers",autosize:!0};return a($,{data:t,layout:o,config:{displayModeBar:!1,responsive:!0,staticPlot:!0},useResizeHandler:!0,className:"w-full"})}function y(s){const[n,f]=l.exports.useState({}),[c,t]=l.exports.useState([]),[o,d]=l.exports.useState([]),[m,N]=l.exports.useState({});l.exports.useEffect(()=>{if(s.colConfig&&s.colConfig.length>0){const e={};s.colConfig.forEach(r=>{e[r.key]=r}),N(e)}},[s.colConfig]),l.exports.useEffect(()=>{s.data&&(t(s.data.meta),d(s.data.headers),f(s.data.data))},[s.data]);const k=(e,r)=>{const i=n[e].filter(g=>g.k===r.key)[0].v;return`${r.prefix}${v(i,r.decimals)}${r.suffix}`},p=e=>{let r,i;return n.forEach(g=>{g.forEach(x=>{x.k===e&&((!r||r&&r>x.v)&&(r=x.v),(!i||i&&i<x.v)&&(i=x.v))})}),{min:r,max:i}},E=e=>`${e.prefix}${v(p(e.key).min)}${e.suffix}`,S=e=>`${e.prefix}${v(p(e.key).max)}${e.suffix}`,C=e=>{const r=[];return n.forEach(i=>{i.forEach(g=>{g.k===e&&r.push(g.v)})}),r},M=()=>{const e=[];return c.forEach(r=>{e.push(r.title)}),e},h=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],v=(e,r=2)=>{for(var i=0;i<h.length;i++)if(e>=h[i].divider)return(e/h[i].divider).toFixed(1).toString()+h[i].suffix;return e.toFixed(r).toString()};return u("div",{className:"grid grid-cols-4 gap-1 divide-x-2 divide-dashed divide-red-500",children:[u("div",{className:"flex flex-col mx-10",children:[a("div",{className:"p-1 h-7"}),a("div",{className:"p-1 h-7"}),c.map(e=>a("div",{className:"text-sm text-gray-900",children:e.title},e.key))]}),o.map(e=>{if(m[e.key]&&!m[e.key].isHidden)return u("div",{className:"flex flex-col px-5",children:[a("div",{className:"p-1 h-7 font-bold",children:e.title}),u("div",{className:"grid grid-cols-5",children:[u("div",{className:"col-start-1 flex flex-col border-t-2 border-b-2 border-l-2 border-dashed border-blue-300",children:[a("div",{className:"p-1 h-7"}),c.map((r,i)=>a("div",{className:"text-sm text-gray-900",children:a("div",{className:"flex-1",children:k(i,e)})},r.key))]}),u("div",{className:"flex flex-col col-span-4 border-2 border-dashed border-green-300",children:[u("div",{className:"grid grid-cols-4 ",children:[a("div",{className:"",children:E(e)}),a("div",{className:"col-span-2"}),a("div",{className:"text-right",children:S(e)})]}),a("div",{children:a(z,{xdata:C(e.key),ydata:M()})})]})]})]},e.key)})]})}function L(){return fetch("https://w4m9n4r9.stackpathcdn.com/frontend-test-data.json").then(s=>s.json()).catch(s=>(console.error("Error",s),null))}function O(){const[s,n]=l.exports.useState({}),[f,c]=l.exports.useState([]),[t,o]=l.exports.useState([]);return l.exports.useEffect(()=>{L().then(d=>{n(d.data),c(d.config1),o(d.config2)})},[]),u("div",{children:[s&&f&&a(y,{colConfig:f,data:s.query}),s&&t&&a(y,{colConfig:t,data:s.query})]})}function R(){return a("div",{className:"App",children:a(O,{})})}j.render(a(D.StrictMode,{children:a(R,{})}),document.getElementById("root"));
